{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-06223100941ba21e.js","src/js/index.js","src/js/best-sellers.js","src/js/categories.js","src/js/modal-window.js","node_modules/@parcel/runtime-js/lib/runtime-68936638231b1466.js","node_modules/@parcel/runtime-js/lib/runtime-2030fb37b7b39e9c.js","node_modules/@parcel/runtime-js/lib/runtime-32753876db776d52.js","src/js/btn-see-more.js","src/js/scroll-top.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"ioUUD\\\":\\\"index.f9c5a07f.js\\\",\\\"jI9re\\\":\\\"shop-amazon-62x19px.a7ec3af8.png\\\",\\\"iUdC1\\\":\\\"shop-read-33x32px.a9f158e0.png\\\",\\\"jdnIm\\\":\\\"shop-book-shop-38x36px.eb5fbc1e.png\\\",\\\"itVWs\\\":\\\"shopping.20ac0189.js\\\"}\"));","import './serviceApi';\nimport './theme.js';\nimport './header';\nimport './best-sellers';\nimport './categories';\nimport './support';\nimport './modal-window';\n\nimport './authorization';\nimport './btn-see-more';\nimport './scroll-top';\n","import { fetchTopBooks } from './serviceApi.js';\n//This function recieves parsed data from api and returns the markup of book-list\n//at the home page. Should be used after any of serviceApi functions in async code.\n\nexport const renderBestSellersList = data => {\n  const header =\n    '<h1 class=\"best-sellers-header\">Best Sellers <span class=\"best-sellers-accent\">Books</span></h1>';\n  const markup = header.concat(\n    [...data]\n      .map(list => {\n        const { list_name: listName, books } = list;\n        return `<div class=\"book-list-wrapper\"><h2 class=\"best-sellers-title\">${listName}</h2>\n     <ul class=\"best-sellers-list\">${books\n       .map(book => {\n         const { _id: id, author, book_image, title } = book;\n         return `<li class=\"best-sellers-list-item\">\n              <div class=\"best-sellers-thumb\"><img class=\"best-sellers-image\" src=${book_image} alt=${title} data-id-img=${id}/><div class=\"book-thumb-overlay\"><p class=\"book-overlay-text\">quick view</p></div></div>\n              <div class=\"book-description-thumb\"><h3 class=\"book-title\">${\n                title.length > 18 ? title.slice(0, 18) + '...' : title\n              }</h3>\n              <p class=\"book-description\">${author}</p></div>\n          </li>`;\n       })\n       .join(\n         ''\n       )}</ul><button class=\"see-more-btn\" type=\"button\">See More</button></div>`;\n      })\n      .join('')\n  );\n  return markup;\n};\n\n//The function should be used to render a list of books of specific genre (category)\nexport const renderBooksByCategory = data => {\n  let categoryTitle;\n  const markup = [...data]\n    .map(book => {\n      const { _id: id, author, book_image, title, list_name: listName } = book;\n      categoryTitle = listName;\n      return `<li class=\"book-category-list-item\">\n            <div class=\"best-sellers-thumb\"><img class=\"best-sellers-image\" src=${book_image} alt=${title} data-id-img=${id}/><div class=\"book-thumb-overlay\"><p class=\"book-overlay-text\">quick view</p></div></div>\n            <div class=\"book-description-thumb\"><h3 class=\"book-title\">${\n              title.length > 18 ? title.slice(0, 18) + '...' : title\n            }</h3>\n            <p class=\"book-description\">${author}</p></div>\n        </li>`;\n    })\n    .join('');\n\n    categoryTitle = categoryTitle.split(' ').map((e, i, a) => {\n    if (a.indexOf(e) + 1 === a.length) {\n      return `<h1 class=\"best-sellers-header\">${categoryTitle\n        .split(' ')\n        .slice(0, i)\n        .join(\n          ' '\n        )}<span class=\"best-sellers-accent\"> ${e}</span></h1><ul class=\"book-category-list\">${markup}</ul>`;\n    }\n  });\n  return categoryTitle.join('');\n};\n\nconst container = document.querySelector('#container-best');\nconst foo = async () => {\n  try {\n    const data = await fetchTopBooks();\n    const markup = renderBestSellersList(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const clearMarkup = () => (container.innerHTML = '');\ncontainer.innerHTML ? null : foo();\n","import {\n  renderBooksByCategory,\n  clearMarkup,\n  renderBestSellersList,\n} from './best-sellers.js';\nimport {\n  fetchBooksCategoryList,\n  fetchBooksByCategory,\n  fetchTopBooks,\n} from './serviceApi.js';\n\nconst category = document.querySelector('.categories-item');\nconst list = document.querySelector('.categories-item');\nlet li = document.getElementsByClassName('categories-list');\nconst container = document.querySelector('#container-best');\n\nlist.addEventListener('click', changeColor);\nfunction changeColor(e) {\n  if (li === document.getElementsByClassName('categories-list')) {\n    li = e.target;\n  }\n  li.classList.remove('active');\n  li = e.target;\n  li.classList.add('active');\n  return li;\n}\n\nfunction markupList() {\n  fetchBooksCategoryList()\n    .then(data => {\n      const markupCategoriesList = data\n        .map(({ list_name: listName }) => {\n          return `<li class=\"categories-list\" id=${listName}>${listName}</li>`;\n        })\n        .join('');\n      category.insertAdjacentHTML('beforeend', markupCategoriesList);\n    })\n    .catch(error => console.log(error));\n}\n\nmarkupList();\n// -Event listeners added for each list-item on categories list.\n\nlist.addEventListener('click', renderCategories);\nlist.addEventListener('click', renderTopBooks);\n\n// - One of two callback functions below are being invoked while clicking on such list-item, depending on it's text-content.\nasync function renderCategories(e) {\n  if (e.target.nodeName !== 'LI' && e.target.textContent === 'All categories') {\n    return;\n  }\n  try {\n    const data = await fetchBooksByCategory(e.target.textContent);\n    const markup = renderBooksByCategory(data);\n    clearMarkup();\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function renderTopBooks(e) {\n  if (e.target.textContent === 'All categories') {\n    try {\n      const data = await fetchTopBooks();\n      const markup = renderBestSellersList(data);\n      clearMarkup();\n      container.insertAdjacentHTML('beforeend', markup);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n","import { fetchBookById } from './serviceApi.js';\nimport { reedBookID, addBookID, dellBookID } from './authorization.js';\nconst modal = document.querySelector('.modal');\nconst modalCard = document.querySelector('.modal-card');\nconst containerBest = document.getElementById('container-best');\nconst congratsMessage = document.querySelector('.modal-window-text');\nconst closeModalBtn = document.querySelector('.cls-button');\nconst backdrop = document.querySelector('[data-modal-backdrop]');\n\nlet user = 'GF';\n\nfunction closeModalByEscape(event) {\n  if (event.code === 'Escape') {\n    removeListeners();\n    return hiddenAll();\n  }\n}\nfunction closeModalWindow(event) {\n  if ((event.currentTarget.dataset.modal = 'close')) {\n    removeListeners();\n    return hiddenAll();\n  }\n}\n\nfunction removeListeners() {\n  closeModalBtn.removeEventListener('click', closeModalWindow, {\n    once: 'true',\n  });\n  document.removeEventListener('keydown', closeModalByEscape, {\n    once: 'true',\n  });\n  backdrop.removeEventListener('click', closeBackdrop);\n}\n\nfunction closeBackdrop(event) {\n  if (event.target === backdrop) {\n    removeListeners();\n    return hiddenAll();\n  }\n}\n\nfunction hiddenAll() {\n  toggleModalHidden();\n  toggleBacdropHidden();\n  toggleScroll();\n}\nfunction toggleScroll() {\n  document.body.classList.toggle('stop-scrolling');\n}\n\nfunction toggleModalHidden() {\n  modal.classList.toggle('is-hidden');\n}\n\nfunction toggleBacdropHidden() {\n  backdrop.classList.toggle('is-hidden');\n}\n\nasync function checkBookStatus(id, user) {\n  try {\n    const data = await reedBookID(user);\n    if (data.includes(id)) {\n      modalCard.firstElementChild.lastElementChild.textContent =\n        'remove from the shopping list';\n      congratsMessage.textContent = 'This book is already in your cart';\n      congratsMessage.classList.remove('is-hidden');\n      modalCard.firstElementChild.lastElementChild.dataset.modalSubmit = 'del';\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction fetchUser() {\n  if (localStorage.getItem('user-id')) {\n    user = localStorage.getItem('user-id');\n  } else {\n    user = 'GF';\n  }\n  return user;\n}\n\n// -------------Функція, що визиває модальне вікно-------------\ncontainerBest.addEventListener('click', imageClickHandler);\nfunction imageClickHandler(event) {\n  if (event.target.nodeName === 'IMG') {\n    const idToCallModal = event.target.dataset.idImg;\n    hiddenAll();\n    fetchUser();\n    renderModalWindow(idToCallModal, user);\n    document.addEventListener('keydown', closeModalByEscape, { once: 'true' });\n    closeModalBtn.addEventListener('click', closeModalWindow, { once: 'true' });\n    backdrop.addEventListener('click', closeBackdrop);\n  }\n}\n// -------------------------------------\n\nasync function renderModalWindow(id, user) {\n  try {\n    const dataFromServer = await fetchBookById(id);\n    renderMarkupModalWindow(dataFromServer, id);\n    const addBtn = modalCard.firstElementChild.lastElementChild;\n    addBtn.addEventListener('click', addOrDeleteBook);\n    checkBookStatus(id, user);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderMarkupModalWindow(book, id) {\n  let {\n    title,\n    author,\n    book_image = './image/shopping/dummy-book-tr.png',\n    description,\n    buy_links,\n  } = book;\n  const arrayOfShops = buy_links;\n  let amazonUrl = 'https://www.amazon.com';\n  let appleUrl = 'https://books.apple.com';\n  let bookShopUrl = 'https://bookshop.org';\n  amazonUrl = arrayOfShops[0].url;\n  appleUrl = arrayOfShops[1].url;\n  bookShopUrl = arrayOfShops[4].url;\n  if (description.trim().length === 0) {\n    description = 'Description is not available for that book';\n  }\n\n  let markup = '';\n  markup = createModalWindow({\n    id,\n    title,\n    author,\n    book_image,\n    description,\n    amazonUrl,\n    appleUrl,\n    bookShopUrl,\n  });\n  modalCard.innerHTML = '';\n\n  return modalCard.insertAdjacentHTML('afterbegin', markup);\n}\nconst amazon = new URL(\n  '../image/shopping/shop-amazon-62x19px.png',\n  import.meta.url\n);\nconst applebook = new URL(\n  '../image/shopping/shop-read-33x32px.png',\n  import.meta.url\n);\nconst bookshop = new URL(\n  '../image/shopping/shop-book-shop-38x36px.png',\n  import.meta.url\n);\n\nfunction createModalWindow({\n  id,\n  title,\n  author,\n  book_image,\n  description,\n  amazonUrl,\n  appleUrl,\n  bookShopUrl,\n}) {\n  return `\n  <div class=\"modal-window\">\n    <div class=\"picture\">\n      <img class=\"card-img\" src=\"${book_image}\" alt=\"${description}\" />\n    </div>\n    <div class=\"info\">\n      <h1 class=\"titles\">${title}</h1>\n      <h2 class=\"authors\">${author}</h2>\n      <p class=\"descriptions\">${description}</p>\n      <ul class=\"icons\">\n        <li class=\"icon-link\">\n          <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${amazonUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Amazon link\"\n                    ><img\n                      width=\"62\"\n                      class=\"shopping-card-link-icon shopping-card-link-amazon\"\n                      src=${amazon}\n                      alt=\"Amazon\" loading=\"lazy\"\n                    />\n                  </a>\n                </li>\n                <li class=\"icon-link\">\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${appleUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Apple Books link\"\n                  >\n                    <img\n                      width=\"32\"\n                      height=\"32\"\n                      class=\"shopping-card-link-icon\"\n                      src=${applebook}\n                      alt=\"Apple Books\" loading=\"lazy\"\n                    />\n                  </a></li>\n                <li class=\"icon-link\">\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${bookShopUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"BookShop link\"\n                  >\n                    <img\n                      width=\"38\"\n                      height=\"36\"\n                      class=\"shopping-card-link-icon shopping-card-link-shopbook\"\n                      src=${bookshop}\n                      alt=\"BookShop\" loading=\"lazy\"\n                    />\n                  </a>\n        </li>\n      </ul>\n    </div>\n    <button\n    class=\"btn-action button pointer\"\n    data-modal-submit=\"add\" data-id=${id}\n    type=\"button\">add to shopping list</button>\n  </div>`;\n}\n\nfunction addOrDeleteBook(event) {\n  fetchUser();\n  if (user !== 'GF' || user == 0) {\n    const idChoosenBook = event.target.dataset.id;\n    if (event.target.dataset.modalSubmit === 'add') {\n      addBookID(idChoosenBook, user);\n      event.target.textContent = 'remove from the shopping list';\n      congratsMessage.textContent =\n        'Сongratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".';\n      congratsMessage.classList.remove('is-hidden');\n      event.target.dataset.modalSubmit = 'del';\n    } else {\n      dellBookID(idChoosenBook, user);\n      event.target.textContent = 'add to shopping list';\n      congratsMessage.classList.add('is-hidden');\n      event.target.dataset.modalSubmit = 'add';\n    }\n  } else if ((user = 'underfined' || user === 'GF')) {\n    hiddenAll();\n    removeListeners();\n    toggleAuthorizationThrooModal();\n  }\n}\n\nconst openAuthorizationBtn = document.querySelector(\n  '[data-authorization-open]'\n);\nconst authorization = document.querySelector('[data-authorization]');\nconst authorizationWindowForm = document.querySelector(\n  '.authorization-window-form'\n);\n\nasync function toggleAuthorizationThrooModal() {\n  const isAuthorizationOpen =\n    openAuthorizationBtn.getAttribute('aria-expanded') === 'true' || false;\n  openAuthorizationBtn.setAttribute('aria-expanded', !isAuthorizationOpen); // функція toggleAuthorization, змінює атрибут 'aria-expanded' кнопки відкриття вікна авторизації відповідно до стану вікна авторизації (відкрито - true, закрито - false)\n\n  authorization.classList.toggle('is-hidden'); // відкриття/закриття вікна авторизації\n\n  if (!isAuthorizationOpen) {\n    document.body.style.overflow = 'hidden'; // заблокувати скролл\n  } else {\n    document.body.style.overflow = 'scroll'; // розблокувати скролл\n    authorizationWindowForm.reset(); // очистити форму\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jI9re\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iUdC1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jdnIm\")).toString();","import {\n  renderBooksByCategory,\n  renderBestSellersList,\n  clearMarkup,\n} from './best-sellers';\nimport { fetchBooksByCategory, fetchTopBooks } from './serviceApi.js';\n\n// fetchTopBooks();\n\nconst container = document.querySelector('#container-best');\nconst seeMoreBtn = document.querySelector('.see-more-btn');\n\nasync function fetchAndRenderBooks() {\n  try {\n    const data = await fetchTopBooks();\n    const markup = renderBestSellersList(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport async function loadBooksByCategory(category) {\n  try {\n    clearMarkup();\n    const data = await fetchBooksByCategory(category);\n    const markup = renderBooksByCategory(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\ncontainer.addEventListener('click', event => {\n  if (event.target.nodeName === 'BUTTON') {\n    const category = event.target.parentNode.firstChild.textContent;\n    clearMarkup();\n    loadBooksByCategory(category);\n  }\n});\n// seeMoreBtn.addEventListener('click', (event) => {\n//   if (event.target.classList.contains('.see-more-btn')) {\n//     const categoryElement = event.target.closest('.book-list-wrapper');\n//     console.log(categoryElement);\n//     const category = categoryElement.dataset.category;\n//     loadBooksByCategory(category);\n//   }\n// });\n","const scrollTop = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', onScrollToTop);\n\n//Функція ховання/показу кнопки при скроллі\nfunction onScrollToTop() {\n  window.onscroll = () => {\n    if (window.scrollY > 700) {\n      scrollTop.classList.remove('scroll-up_hide');\n    } else if (window.scrollY < 700) {\n      scrollTop.classList.add('scroll-up_hide');\n    }\n  };\n}\n\n//Функція повернення на початок сторінки по кліку\nscrollTop.addEventListener('click', onScrollToTopClick);\n\nfunction onScrollToTopClick() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n//коментар\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$014TN","$67243f52349d9ee9$export$58aa6d5c499772c4","data","concat","map","list","list_name","listName","books","book","_id","author","book_image","title","slice","join","$67243f52349d9ee9$export$e3a458789c8a5044","categoryTitle","markup","split","e","a","indexOf","$67243f52349d9ee9$var$container","document","querySelector","$67243f52349d9ee9$export$d1927cf3bc385580","innerHTML","async","fetchTopBooks","insertAdjacentHTML","err","console","log","$67243f52349d9ee9$var$foo","$7eefd83934c595d6$var$category","$7eefd83934c595d6$var$list","$7eefd83934c595d6$var$li","getElementsByClassName","$7eefd83934c595d6$var$container","addEventListener","target","classList","remove","add","fetchBooksCategoryList","then","markupCategoriesList","catch","error","nodeName","textContent","fetchBooksByCategory","$e4e1ec27081abf8c$var$modal","$e4e1ec27081abf8c$var$modalCard","$e4e1ec27081abf8c$var$containerBest","getElementById","$e4e1ec27081abf8c$var$congratsMessage","$e4e1ec27081abf8c$var$closeModalBtn","$e4e1ec27081abf8c$var$backdrop","$e4e1ec27081abf8c$var$user","$e4e1ec27081abf8c$var$closeModalByEscape","event","code","$e4e1ec27081abf8c$var$removeListeners","$e4e1ec27081abf8c$var$hiddenAll","$e4e1ec27081abf8c$var$closeModalWindow","currentTarget","dataset","modal","removeEventListener","once","$e4e1ec27081abf8c$var$closeBackdrop","toggle","body","$e4e1ec27081abf8c$var$fetchUser","localStorage","getItem","idToCallModal","idImg","user2","description","buy_links","arrayOfShops","amazonUrl","appleUrl","bookShopUrl","url","trim","$e4e1ec27081abf8c$var$amazon","$e4e1ec27081abf8c$var$applebook","$e4e1ec27081abf8c$var$bookshop","$e4e1ec27081abf8c$var$createModalWindow","$e4e1ec27081abf8c$var$renderMarkupModalWindow","fetchBookById","firstElementChild","lastElementChild","$e4e1ec27081abf8c$var$addOrDeleteBook","user1","$hiPTG","reedBookID","includes","modalSubmit","$e4e1ec27081abf8c$var$checkBookStatus","$e4e1ec27081abf8c$var$renderModalWindow","$cc7a14da00dd386f$exports","URL","resolve","import","meta","toString","$d14e5c6a40cd30fa$exports","$e335303472e3f240$exports","idChoosenBook","addBookID","dellBookID","isAuthorizationOpen","$e4e1ec27081abf8c$var$openAuthorizationBtn","getAttribute","setAttribute","$e4e1ec27081abf8c$var$authorization","style","overflow","$e4e1ec27081abf8c$var$authorizationWindowForm","reset","$e4e1ec27081abf8c$var$toggleAuthorizationThrooModal","$83fb45d0ed7ff4d2$var$container","category","parentNode","firstChild","$83fb45d0ed7ff4d2$export$1fbdfc89313519b4","$5c69c2ec56cb1600$var$scrollTop","window","onscroll","scrollY","scrollTo","top","behavior"],"version":3,"file":"index.f9c5a07f.js.map"}