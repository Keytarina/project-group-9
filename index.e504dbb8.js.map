{"mappings":"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","sources":["src/js/index.js","src/js/best-sellers.js","src/js/categories.js","src/js/modal-window.js","src/js/btn-see-more.js","src/js/scroll-top.js"],"sourcesContent":["import './serviceApi';\nimport './theme.js';\nimport './header';\nimport './best-sellers';\nimport './categories';\nimport './support';\nimport './modal-window';\n\n// import './books';\n// import './authorization';\n// import './shopping-list';\nimport './btn-see-more';\nimport './scroll-top';\n","import { fetchTopBooks } from './serviceApi.js';\n//This function recieves parsed data from api and returns the markup of book-list\n//at the home page. Should be used after any of serviceApi functions in async code.\n\nexport const renderBestSellersList = data => {\n  const header =\n    '<h1 class=\"best-sellers-header\">Best Sellers <span class=\"best-sellers-accent\">Books</span></h1>';\n  const markup = header.concat(\n    [...data]\n      .map(list => {\n        const { list_name: listName, books } = list;\n        return `<div class=\"book-list-wrapper\"><h2 class=\"best-sellers-title\">${listName}</h2>\n     <ul class=\"best-sellers-list\">${books\n       .map(book => {\n         const { _id: id, author, book_image, title } = book;\n         return `<li class=\"best-sellers-list-item\">\n              <div class=\"best-sellers-thumb\"><img class=\"best-sellers-image\" src=${book_image} alt=${title} data-id-img=${id}/><div class=\"book-thumb-overlay\"><p class=\"book-overlay-text\">quick view</p></div></div>\n              <div class=\"book-description-thumb\"><h3 class=\"book-title\">${\n                title.length > 18 ? title.slice(0, 18) + '...' : title\n              }</h3>\n              <p class=\"book-description\">${author}</p></div>\n          </li>`;\n       })\n       .join(\n         ''\n       )}</ul><button class=\"see-more-btn\" type=\"button\">See More</button></div>`;\n      })\n      .join('')\n  );\n  return markup;\n};\n\n//The function should be used to render a list of books of specific genre (category)\nexport const renderBooksByCategory = data => {\n  let categoryTitle;\n  const markup = [...data]\n    .map(book => {\n      const { _id: id, author, book_image, title, list_name: listName } = book;\n      categoryTitle = listName;\n      return `<li class=\"book-category-list-item\">\n            <div class=\"best-sellers-thumb\"><img class=\"best-sellers-image\" src=${book_image} alt=${title} data-id-img=${id}/><div class=\"book-thumb-overlay\"><p class=\"book-overlay-text\">quick view</p></div></div>\n            <div class=\"book-description-thumb\"><h3 class=\"book-title\">${\n              title.length > 18 ? title.slice(0, 18) + '...' : title\n            }</h3>\n            <p class=\"book-description\">${author}</p></div>\n        </li>`;\n    })\n    .join('');\n\n    categoryTitle = categoryTitle.split(' ').map((e, i, a) => {\n    if (a.indexOf(e) + 1 === a.length) {\n      return `<h1 class=\"best-sellers-header\">${categoryTitle\n        .split(' ')\n        .slice(0, i)\n        .join(\n          ' '\n        )}<span class=\"best-sellers-accent\"> ${e}<span></h1><ul class=\"book-category-list\">${markup}</ul>`;\n    }\n  });\n  return categoryTitle.join('');\n};\n\nconst container = document.querySelector('#container-best');\nconst foo = async () => {\n  try {\n    const data = await fetchTopBooks();\n    const markup = renderBestSellersList(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const clearMarkup = () => (container.innerHTML = '');\ncontainer.innerHTML ? null : foo();\n","import {\n  renderBooksByCategory,\n  clearMarkup,\n  renderBestSellersList,\n} from './best-sellers.js';\nimport {\n  fetchBooksCategoryList,\n  fetchBooksByCategory,\n  fetchTopBooks,\n} from './serviceApi.js';\n\nconst category = document.querySelector('.categories-item');\nconst list = document.querySelector('.categories-item');\nlet li = document.getElementsByClassName('categories-list');\nconst container = document.querySelector('#container-best');\n\nlist.addEventListener('click', changeColor);\nfunction changeColor(e) {\n  if (li === document.getElementsByClassName('categories-list')) {\n    li = e.target;\n  }\n  li.classList.remove('active');\n  li = e.target;\n  li.classList.add('active');\n  return li;\n}\n\nfunction markupList() {\n  fetchBooksCategoryList()\n    .then(data => {\n      const markupCategoriesList = data\n        .map(({ list_name: listName }) => {\n          return `<li class=\"categories-list\" id=${listName}>${listName}</li>`;\n        })\n        .join('');\n      category.insertAdjacentHTML('beforeend', markupCategoriesList);\n    })\n    .catch(error => console.log(error));\n}\n\nmarkupList();\n// -Event listeners added for each list-item on categories list.\n\nlist.addEventListener('click', renderCategories);\nlist.addEventListener('click', renderTopBooks);\n\n// - One of two callback functions below are being invoked while clicking on such list-item, depending on it's text-content.\nasync function renderCategories(e) {\n  if (e.target.nodeName !== 'LI' && e.target.textContent === 'All categories') {\n    return;\n  }\n  try {\n    const data = await fetchBooksByCategory(e.target.textContent);\n    const markup = renderBooksByCategory(data);\n    clearMarkup();\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function renderTopBooks(e) {\n  if (e.target.textContent === 'All categories') {\n    try {\n      const data = await fetchTopBooks();\n      const markup = renderBestSellersList(data);\n      clearMarkup();\n      container.insertAdjacentHTML('beforeend', markup);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n","import { fetchBookById } from './serviceApi.js';\n\nconst modal = document.querySelector('.modal');\nconst modalCard = document.querySelector('.modal-card');\nconst containerBest = document.getElementById('container-best');\nconst congratsMessage = document.querySelector('.modal-window-text');\nconst closeModalBtn = document.querySelector('.cls-button');\nconst backdrop = document.querySelector('[data-modal-backdrop]');\n\nlet storageOfBooksIdModal = [];\ncheckLocalStorageNotEmpty();\nfunction closeModalByEscape(event) {\n  if (event.code === 'Escape') {\n    removeListeners();\n    return hiddenAll();\n  }\n}\nfunction closeModalWindow(event) {\n  if (event.currentTarget.nodeName === 'BUTTON') {\n    removeListeners();\n    return hiddenAll();\n  }\n}\n\nfunction removeListeners() {\n  closeModalBtn.removeEventListener('click', closeModalWindow, {\n    once: 'true',\n  });\n  modalCard.removeEventListener('click', addOrDeleteBook);\n  document.removeEventListener('keydown', closeModalByEscape, {\n    once: 'true',\n  });\n  backdrop.removeEventListener('click', closeBackdrop);\n}\n\nfunction closeBackdrop(event) {\n  if (event.target === backdrop) {\n    removeListeners();\n    return hiddenAll();\n  }\n}\n\nfunction hiddenAll() {\n  toggleModalHidden();\n  toggleBacdropHidden();\n  toggleScroll();\n}\nfunction toggleScroll() {\n  document.body.classList.toggle('stop-scrolling');\n}\n\nfunction toggleModalHidden() {\n  modal.classList.toggle('is-hidden');\n}\n\nfunction toggleBacdropHidden() {\n  backdrop.classList.toggle('is-hidden');\n}\n\nfunction checkBookStatus(id) {\n  checkLocalStorageNotEmpty();\n  storageOfBooksIdModal = JSON.parse(localStorage.getItem('id'));\n  if (storageOfBooksIdModal.includes(id)) {\n    congratsMessage.textContent = 'This book is already in your cart';\n    congratsMessage.classList.remove('is-hidden');\n  }\n}\n\n// -------------Фуекція що визиває модальне вікно-------------\ncontainerBest.addEventListener('click', imageClickHandler);\nfunction imageClickHandler(event) {\n  if (event.target.nodeName === 'IMG') {\n    const idToCallModal = event.target.dataset.idImg;\n    hiddenAll();\n    renderModalWindow(idToCallModal);\n    checkBookStatus(idToCallModal);\n\n    modalCard.addEventListener('click', addOrDeleteBook);\n    document.addEventListener('keydown', closeModalByEscape, { once: 'true' });\n    closeModalBtn.addEventListener('click', closeModalWindow, { once: 'true' });\n    backdrop.addEventListener('click', closeBackdrop);\n  }\n}\n// -------------------------------------\n\nasync function renderModalWindow(id) {\n  try {\n    const dataFromServer = await fetchBookById(id);\n    renderMarkupModalWindow(dataFromServer, id);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderMarkupModalWindow(book, id) {\n  let {\n    title,\n    author,\n    book_image = './image/shopping/dummy-book-tr.png',\n    description,\n    buy_links,\n  } = book;\n  const arrayOfShops = buy_links;\n  let amazonUrl = 'https://www.amazon.com';\n  let appleUrl = 'https://books.apple.com';\n  let bookShopUrl = 'https://bookshop.org';\n  amazonUrl = arrayOfShops[0].url;\n  appleUrl = arrayOfShops[1].url;\n  bookShopUrl = arrayOfShops[4].url;\n  if (description.trim().length === 0) {\n    description = 'Description is not available for that book';\n  }\n\n  let markup = '';\n  markup = createModalWindow({\n    id,\n    title,\n    author,\n    book_image,\n    description,\n    amazonUrl,\n    appleUrl,\n    bookShopUrl,\n  });\n  modalCard.innerHTML = '';\n\n  return modalCard.insertAdjacentHTML('afterbegin', markup);\n}\n\nfunction createModalWindow({\n  id,\n  title,\n  author,\n  book_image,\n  description,\n  amazonUrl,\n  appleUrl,\n  bookShopUrl,\n}) {\n  return `\n  <div class=\"modal-window\">\n    <div class=\"picture\">\n      <img class=\"card-img\" src=\"${book_image}\" alt=\"${description}\" />\n    </div>\n    <div class=\"info\">\n      <h1 class=\"titles\">${title}</h1>\n      <h2 class=\"authors\">${author}</h2>\n      <p class=\"descriptions\">${description}</p>\n      <ul class=\"icons\">\n        <li class=\"icon-link\">\n          <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${amazonUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Amazon link\"\n                    ><img\n                      width=\"62px\"\n                      class=\"shopping-card-link-icon shopping-card-link-amazon\"\n                      src=\"./shop-amazon-62x19px.a7ec3af8.png\"\n                      alt=\"Amazon\" loading=\"lazy\"\n                    />\n                  </a>\n                </li>\n                <li>\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${appleUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Apple Books link\"\n                  >\n                    <img\n                      width=\"32px\"\n                      height=\"32px\"\n                      class=\"shopping-card-link-icon\"\n                      src=\"./shop-read-33x32px.a9f158e0.png\"\n                      alt=\"Apple Books\" loading=\"lazy\"\n                    />\n                  </a></li>\n                <li>\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${bookShopUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"BookShop link\"\n                  >\n                    <img\n                      width=\"38px\"\n                      height=\"36px\"\n                      class=\"shopping-card-link-icon shopping-card-link-shopbook\"\n                      src=\"./shop-book-shop-38x36px.eb5fbc1e.png\"\n                      alt=\"BookShop\" loading=\"lazy\"\n                    />\n                  </a>\n        </li>\n      </ul>\n    </div>\n    <button\n    class=\"btn-action button pointer\"\n    data-modal-submit=\"add\" data-id=${id}\n    type=\"button\">add to shopping list</button>\n  </div>`;\n}\n\nfunction checkLocalStorageNotEmpty() {\n  if (!JSON.parse(localStorage.getItem('id'))) {\n    storageOfBooksIdModal = [];\n    return localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n  }\n}\n\nfunction changeBookStatus(id, event) {\n  checkLocalStorageNotEmpty();\n  if (storageOfBooksIdModal.includes(id)) {\n    return (event.target.dataset.modalSubmit = 'del');\n  }\n}\n\nfunction addOrDeleteBook(event) {\n  if (event.target.classList.contains('btn-action')) {\n    const idChoosenBook = event.target.dataset.id;\n    changeBookStatus(idChoosenBook, event);\n    if (event.target.dataset.modalSubmit === 'add') {\n      addingBookToBusket(idChoosenBook);\n      event.target.textContent = 'remove from the shopping list';\n      congratsMessage.textContent =\n        'Сongratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".';\n      congratsMessage.classList.remove('is-hidden');\n      event.target.dataset.modalSubmit = 'del';\n    } else {\n      deletingBookFromBusket(idChoosenBook);\n      event.target.textContent = 'add to shopping list';\n      congratsMessage.classList.add('is-hidden');\n      event.target.dataset.modalSubmit = 'add';\n    }\n  }\n}\n\nfunction addingBookToBusket(idChoosenBook) {\n  if (!JSON.parse(localStorage.getItem('id'))) {\n    storageOfBooksIdModal = [];\n    storageOfBooksIdModal.push(idChoosenBook);\n    return localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n  }\n  storageOfBooksIdModal = JSON.parse(localStorage.getItem('id'));\n\n  if (storageOfBooksIdModal.includes(idChoosenBook)) {\n    console.log('this book already in a busket');\n  } else {\n    storageOfBooksIdModal.push(idChoosenBook);\n    localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n  }\n  return;\n}\n\nfunction deletingBookFromBusket(idChoosenBook) {\n  checkLocalStorageNotEmpty();\n  storageOfBooksIdModal = JSON.parse(localStorage.getItem('id'));\n  if (storageOfBooksIdModal.includes(idChoosenBook)) {\n    const index = storageOfBooksIdModal.indexOf(idChoosenBook);\n    storageOfBooksIdModal.splice(index, 1);\n    localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n\n    return;\n  }\n}\n","import {\n  renderBooksByCategory,\n  renderBestSellersList,\n  clearMarkup,\n} from './best-sellers';\nimport { fetchBooksByCategory, fetchTopBooks } from './serviceApi.js';\n\n// fetchTopBooks();\n\nconst container = document.querySelector('#container-best');\nconst seeMoreBtn = document.querySelector('.see-more-btn');\n\nasync function fetchAndRenderBooks() {\n  try {\n    const data = await fetchTopBooks();\n    const markup = renderBestSellersList(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport async function loadBooksByCategory(category) {\n  try {\n    clearMarkup();\n    const data = await fetchBooksByCategory(category);\n    const markup = renderBooksByCategory(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\ncontainer.addEventListener('click', event => {\n  if (event.target.nodeName === 'BUTTON') {\n    console.log(event.target.parentNode.firstChild.textContent);\n    const category = event.target.parentNode.firstChild.textContent;\n    clearMarkup();\n    loadBooksByCategory(category);\n  }\n});\n// seeMoreBtn.addEventListener('click', (event) => {\n//   if (event.target.classList.contains('.see-more-btn')) {\n//     const categoryElement = event.target.closest('.book-list-wrapper');\n//     console.log(categoryElement);\n//     const category = categoryElement.dataset.category;\n//     loadBooksByCategory(category);\n//   }\n// });\n","const scrollTop = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', onScrollToTop);\n\n//Функція ховання/показу кнопки при скроллі\nfunction onScrollToTop() {\n  window.onscroll = () => {\n    if (window.scrollY > 700) {\n      scrollTop.classList.remove('scroll-up_hide');\n    } else if (window.scrollY < 700) {\n      scrollTop.classList.add('scroll-up_hide');\n    }\n  };\n}\n\n//Функція повернення на початок сторінки по кліку\nscrollTop.addEventListener('click', onScrollToTopClick);\n\nfunction onScrollToTopClick() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n//коментар\n"],"names":["parcelRequire","$3soWa","$c16de6f7745405e4$export$58aa6d5c499772c4","data","concat","map","list","list_name","listName","books","book","_id","id","author","book_image","title","length","slice","join","$c16de6f7745405e4$export$e3a458789c8a5044","categoryTitle","markup","split","e","i","a","indexOf","$c16de6f7745405e4$var$container","document","querySelector","$c16de6f7745405e4$export$d1927cf3bc385580","innerHTML","async","fetchTopBooks","insertAdjacentHTML","err","console","log","$c16de6f7745405e4$var$foo","$f3b06000f9b46fbb$var$category","$f3b06000f9b46fbb$var$list","$f3b06000f9b46fbb$var$li","getElementsByClassName","$f3b06000f9b46fbb$var$container","addEventListener","target","classList","remove","add","fetchBooksCategoryList","then","markupCategoriesList","catch","error","nodeName","textContent","fetchBooksByCategory","$1aa81d6d0cd85e48$var$modal","$1aa81d6d0cd85e48$var$modalCard","$1aa81d6d0cd85e48$var$containerBest","getElementById","$1aa81d6d0cd85e48$var$congratsMessage","$1aa81d6d0cd85e48$var$closeModalBtn","$1aa81d6d0cd85e48$var$backdrop","$1aa81d6d0cd85e48$var$storageOfBooksIdModal","$1aa81d6d0cd85e48$var$closeModalByEscape","event","code","$1aa81d6d0cd85e48$var$removeListeners","$1aa81d6d0cd85e48$var$hiddenAll","$1aa81d6d0cd85e48$var$closeModalWindow","currentTarget","removeEventListener","once","$1aa81d6d0cd85e48$var$addOrDeleteBook","$1aa81d6d0cd85e48$var$closeBackdrop","toggle","body","$1aa81d6d0cd85e48$var$checkLocalStorageNotEmpty","JSON","parse","localStorage","getItem","setItem","stringify","contains","idChoosenBook","dataset","includes","modalSubmit","$1aa81d6d0cd85e48$var$changeBookStatus","push","$1aa81d6d0cd85e48$var$addingBookToBusket","index","splice","$1aa81d6d0cd85e48$var$deletingBookFromBusket","idToCallModal","idImg","description","buy_links","arrayOfShops","amazonUrl","appleUrl","bookShopUrl","url","trim","$1aa81d6d0cd85e48$var$createModalWindow","$1aa81d6d0cd85e48$var$renderMarkupModalWindow","fetchBookById","$1aa81d6d0cd85e48$var$renderModalWindow","$b20094eaac9089ab$var$container","parentNode","firstChild","category","$b20094eaac9089ab$export$1fbdfc89313519b4","$e14aaedb301b4d2c$var$scrollTop","window","onscroll","scrollY","scrollTo","top","behavior"],"version":3,"file":"index.e504dbb8.js.map"}