{"mappings":"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","sources":["src/js/shopping.js","src/js/shopping-list.js"],"sourcesContent":["import './serviceApi';\nimport './theme';\n// import './authorization';\nimport './header';\nimport './support';\nimport './shopping-list';\n","import { fetchBookById } from './serviceApi';\n\nconst list = document.querySelector('.shopping-list-list');\nconst dummyMessage = document.querySelector('.shopping-dummy-message');\nconst controller = document.querySelector('.shopping-paginator-list');\n\nconst firstBtn = document.querySelector('button[data-page=\"first\"]');\nconst secondBtn = document.querySelector('button[data-page=\"second\"]');\nconst thirdBtn = document.querySelector('.btn-hidden');\nconst mediaQuery = window.matchMedia('(min-width: 768px)');\n\nconst support = document.querySelector('.support');\n\nconst mediaQuerySupport = window.matchMedia('(max-width: 1439px)');\nsupport.style.position = 'static';\n\nfunction handleTabletChange(e) {\n  if (e.matches) {\n    support.classList.add('visually-hidden');\n  } else {\n    support.classList.remove('visually-hidden');\n  }\n}\nmediaQuerySupport.addListener(handleTabletChange);\nhandleTabletChange(mediaQuerySupport);\n\n// Імітація наповнення LocalStorage id-шниками книг -------\n// localStorage.clear();\n\nlet storageOfBooksId = [];\n\nfunction checkLocalStorageNotEmptyShopping() {\n  if (!JSON.parse(localStorage.getItem('id'))) {\n    storageOfBooksId = [];\n    return localStorage.setItem('id', JSON.stringify(storageOfBooksId));\n  } else {\n    storageOfBooksId = JSON.parse(localStorage.getItem('id'));\n  }\n}\ncheckLocalStorageNotEmptyShopping();\n\n// -----------\n// paginator - кількість книг, що буде відображатись на сторінці.\n// page - сторінка списку книг.\n// totalPages - скільки займатимуть сторінок книги з localStorage.\n\nlet paginator = 3;\nlet page = 1;\nlet totalPages = 1;\n\nfunction checkCurrentPage() {\n  if (Number.parseInt(localStorage.getItem('page')) > 0) {\n    page = JSON.parse(localStorage.getItem('page'));\n    // console.log(`now is page ${page}`);\n  } else page = 1;\n}\ncheckCurrentPage();\n\n// формування повідомлення про пустий кошик----\nfunction showMessageIfEmpty() {\n  if (JSON.parse(localStorage.getItem('id')).length > 0) {\n    dummyMessage.classList.add('visually-hidden');\n    list.classList.remove('visually-hidden');\n  } else {\n    list.classList.add('visually-hidden');\n    controller.classList.add('visually-hidden');\n    dummyMessage.classList.remove('visually-hidden');\n    list.removeEventListener('click', deleteBook);\n    controller.removeEventListener('click', paginate);\n  }\n}\n// ---------\n\n// -----Функція що збирає з localStorage id-шники для пагінації-----\nfunction fetchArrayOfBookId() {\n  return (storageOfBooksId = JSON.parse(localStorage.getItem('id')));\n}\nfetchArrayOfBookId();\n// --------Функція, що повертає кількість книг, що вміщує сторінка і загальну кількість сторінок,\n//   яку при цьому займуть книги у кошику------\n\nfetchPaginator();\n\nfunction fetchPaginator() {\n  refreshNumberBooksPerPage();\n  refreshTotalPages();\n}\n\nfunction refreshNumberBooksPerPage() {\n  if (mediaQuery.matches) {\n    // console.log('4 on page');\n    return (paginator = 4);\n  } else {\n    // console.log('3 on page');\n    return (paginator = 3);\n  }\n}\nfunction refreshTotalPages() {\n  totalPages = Math.ceil(\n    JSON.parse(localStorage.getItem('id')).length / paginator\n  );\n  return totalPages;\n}\n// ---------------------------------------------\n\n/////////////Фуекція, що перезаписує значення поточної сторінки із зберігає його у localStorage\nfunction changePage(adduct) {\n  page += adduct;\n  localStorage.page = page;\n  return page;\n}\n// ------------------------------------\n\nfunction renderLastSession() {\n  renderPage(page, paginator);\n  pageNumeration(page);\n}\nrenderLastSession();\n\nfunction renderPage(page, paginator) {\n  // fetchPaginator();\n  renderBooksFromBusket(page, paginator);\n}\n\nfunction makeArrayToPaginate(page, paginator) {\n  // console.log(`при создании массива ${page} p[age]`);\n  // console.log(`при создании массив ${totalPages} total pages`);\n  fetchArrayOfBookId();\n\n  const arrayOfBooksToPaginate = storageOfBooksId.splice(\n    (page - 1) * paginator,\n    paginator\n  );\n  return arrayOfBooksToPaginate;\n}\n\nfunction changeNumeration(weight) {\n  firstBtn.textContent = Number.parseInt(firstBtn.textContent) + weight;\n  secondBtn.textContent = Number.parseInt(secondBtn.textContent) + weight;\n  thirdBtn.textContent = Number.parseInt(thirdBtn.textContent) + weight;\n}\nfunction pageNumeration(page) {\n  firstBtn.textContent = page;\n  secondBtn.textContent = page + 1;\n  thirdBtn.textContent = page + 2;\n}\n\nfunction paginate(event) {\n  fetchPaginator();\n  // console.log(`'this is page ${page}`);\n  // console.log(`event check ${totalPages} total pages`);\n\n  if (fetchArrayOfBookId().length <= paginator) {\n    return;\n  }\n\n  if (Number.parseInt(event.target.textContent) > totalPages) {\n    return;\n  }\n\n  if (Number.parseInt(event.target.textContent) === page) {\n    return;\n  }\n  if (event.target.dataset.page === 'start') {\n    if (page > 1) {\n      return startBtnAction();\n    }\n  }\n  if (event.target.dataset.page === 'last') {\n    return lastBtnAction();\n  }\n  if (event.target.dataset.page === 'first') {\n    return actionByNumeredBtns(firstBtn);\n  }\n\n  if (event.target.dataset.page === 'second') {\n    if (totalPages >= 2) {\n      return actionByNumeredBtns(secondBtn);\n    }\n  }\n  if (event.target.dataset.page === 'third') {\n    if (totalPages >= 3) {\n      return actionByNumeredBtns(thirdBtn);\n    }\n  }\n  if (event.target.dataset.page === 'more') {\n    return moreBtnAction(paginator);\n  }\n\n  if (event.target.dataset.page === 'next') {\n    return nextBtnAction();\n  }\n  if (event.target.dataset.page === 'end') {\n    return endBtnAction();\n  }\n}\n\nfunction actionByNumeredBtns($numeredBtn) {\n  changePage(Number.parseInt($numeredBtn.textContent) - page);\n  removingCurrentBtnStyle();\n  $numeredBtn.classList.add('current-page');\n  renderPage(page, paginator);\n}\n\nfunction removingCurrentBtnStyle() {\n  firstBtn.classList.remove('current-page');\n  secondBtn.classList.remove('current-page');\n  thirdBtn.classList.remove('current-page');\n}\n\nfunction startBtnAction() {\n  removingCurrentBtnStyle();\n  pageNumeration(1);\n  changePage(-page + 1);\n  firstBtn.classList.add('current-page');\n  renderPage(1, paginator);\n  return;\n}\n\nfunction lastBtnAction() {\n  if (page <= 1) {\n    return;\n  }\n  if (page === 2) {\n    return startBtnAction();\n  }\n  if (paginator === 3) {\n    lastBtnActionWithThreeBooksPerPage();\n  } else {\n    lastBtnActionWithFourBooksPerPage();\n  }\n  changePage(-1);\n  return renderPage(page, paginator);\n}\n\nfunction lastBtnActionWithThreeBooksPerPage() {\n  // if (Number.parseInt(firstBtn.textContent) <= 2) {\n  //   return startBtnAction();\n  // }\n  if (firstBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    secondBtn.classList.add('current-page');\n    changeNumeration(-2);\n  } else if (secondBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    firstBtn.classList.add('current-page');\n  } else {\n    changeNumeration(-1);\n  }\n}\n\nfunction lastBtnActionWithFourBooksPerPage() {\n  if (firstBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    thirdBtn.classList.add('current-page');\n    changeNumeration(-3);\n  } else if (secondBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    firstBtn.classList.add('current-page');\n  } else if (thirdBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    secondBtn.classList.add('current-page');\n  } else {\n    changeNumeration(-1);\n  }\n}\n\nfunction nextBtnAction() {\n  if (page >= totalPages) {\n    return;\n  }\n  if (paginator === 3) {\n    return nextBtnActionWithThreeBooksPerPage();\n  } else {\n    nextBtnActionWithFourBooksPerPage();\n  }\n  changePage(1);\n  renderPage(page, paginator);\n}\nfunction moreBtnAction(paginator) {\n  if (Number.parseInt(firstBtn.textContent) + paginator - 1 <= totalPages) {\n    removingCurrentBtnStyle();\n    firstBtn.classList.add('current-page');\n    if (paginator === 4) {\n      changeNumeration(3);\n    } else {\n      changeNumeration(2);\n    }\n    changePage(firstBtn.textContent - page);\n    return renderPage(page, paginator);\n  }\n}\n\nfunction nextBtnActionWithThreeBooksPerPage() {\n  if (firstBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    secondBtn.classList.add('current-page');\n  } else if (secondBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    firstBtn.classList.add('current-page');\n    changeNumeration(2);\n  } else {\n    changeNumeration(1);\n  }\n}\n\nfunction nextBtnActionWithFourBooksPerPage() {\n  if (firstBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    secondBtn.classList.add('current-page');\n  } else if (secondBtn.classList.contains('current-page')) {\n    removingCurrentBtnStyle();\n    thirdBtn.classList.add('current-page');\n  } else if (thirdBtn.classList.contains('current-page')) {\n    return moreBtnAction(paginator);\n  } else {\n    changeNumeration(1);\n  }\n}\n\nfunction endBtnAction() {\n  if (totalPages === 2) {\n    return nextBtnAction();\n  }\n  if (page != totalPages) {\n    removingCurrentBtnStyle();\n    if (paginator === 4) {\n      thirdBtn.classList.add('current-page');\n      pageNumeration(totalPages - 2);\n    } else {\n      secondBtn.classList.add('current-page');\n      pageNumeration(totalPages - 1);\n    }\n\n    changePage(totalPages - page);\n    renderPage(page, paginator);\n  }\n}\n// --------------------\n\n// ------функція, що перемальовує список книг у кошику---------\nfunction renderBooksFromBusket(page, paginator) {\n  list.innerHTML = '';\n  showMessageIfEmpty();\n  makeArrayToPaginate(page, paginator).forEach(id => {\n    renderCardFromStorage(id);\n  });\n  list.addEventListener('click', deleteBook, { once: 'true' });\n  controller.addEventListener('click', paginate);\n}\n\n// -----запит данних із серверу----\nasync function renderCardFromStorage(id) {\n  try {\n    const data = await fetchBookById(id);\n    renderMarkup(data, id);\n  } catch (error) {\n    console.log(error);\n    showMessageIfEmpty();\n    controller.classList.add('visually-hidden');\n    dummyMessage.firstElementChild.textContent =\n      'Server is not available right now. Please, try later';\n    dummyMessage.classList.remove('visually-hidden');\n  }\n  fetchArrayOfBookId();\n  if (storageOfBooksId.length <= paginator) {\n    controller.classList.add('visually-hidden');\n    controller.removeEventListener('click', paginate);\n  } else {\n    controller.classList.remove('visually-hidden');\n    controller.addEventListener('click', paginate);\n  }\n}\n// ----------формування шаблону-----------\nfunction renderMarkup(book, id) {\n  let {\n    title = 'Title unknown',\n    author = 'Author unknown',\n    book_image = './image/shopping/dummy-book-tr.png',\n    list_name = 'No category',\n    description,\n    buy_links,\n  } = book;\n  const arrayOfShops = buy_links;\n  let amazonUrl = 'https://www.amazon.com';\n  let appleUrl = 'https://books.apple.com';\n  let bookShopUrl = 'https://bookshop.org';\n  amazonUrl = arrayOfShops[0].url;\n  appleUrl = arrayOfShops[1].url;\n  bookShopUrl = arrayOfShops[4].url;\n  if (description.trim().length === 0) {\n    description = 'Description is not available for that book';\n  }\n\n  let markup = '';\n  markup = `<li class=\"shopping-list-item\"><div class=\"shopping-list-item-card\">\n          <img\n            class=\"shopping-card-img\"\n            src=\"${book_image}\"\n            alt=\"book cover\"\n            width=\"100\"\n            height=\"142\" loading=\"lazy\"\n          />\n          <div class=\"shopping-list-card-info\">\n            <h2 class=\"shopping-card-title\">${title}</h2>\n            <p class=\"shopping-card-category\">${list_name}</p>\n            <p class=\"shopping-card-descr\">${description}</p><p class=\"visually-hidden\">\n              Description is not available for that book\n            </p>\n            <div class=\"shopping-card-bottom-container\">\n              <p class=\"shopping-card-author\">${author}</p>\n              <ul class=\"shopping-card-shop-list\">\n                <li>\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${amazonUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Amazon link\"\n                    ><img\n                      width=\"32\"\n                      class=\"shopping-card-link-icon shopping-card-link-amazon\"\n                      src=\"./shop-amazon-62x19px.a7ec3af8.png\"\n                      alt=\"Amazon\" loading=\"lazy\"\n                    />\n                  </a>\n                </li>\n                <li>\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${appleUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Apple Books link\"\n                  >\n                    <img\n                      width=\"16\"\n                      height=\"16\"\n                      class=\"shopping-card-link-icon\"\n                      src=\"./shop-read-33x32px.a9f158e0.png\"\n                      alt=\"Apple Books\" loading=\"lazy\"\n                    />\n                  </a>\n                </li>\n                <li>\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${bookShopUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"BookShop link\"\n                  >\n                    <img\n                      width=\"16\"\n                      height=\"16\"\n                      class=\"shopping-card-link-icon shopping-card-link-shopbook\"\n                      src=\"./shop-book-shop-38x36px.eb5fbc1e.png\"\n                      alt=\"BookShop\" loading=\"lazy\"\n                    />\n                  </a>\n                </li>\n              </ul>\n              <button class=\"shopping-btn-dump\" type=\"button\" data-book=\"${id}\">\n                <svg class=\"shopping-btn-dump-icon\" width=\"16\" height=\"16\">\n                  <use href=\"./icons.d47e670f.svg#dump\"></use>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>`;\n\n  list.insertAdjacentHTML('beforeend', markup);\n}\n// ------------\n\n// -------видалення книги із кошика---------\n\nfunction deleteBook(event) {\n  if (\n    event.target.nodeName === 'use' ||\n    event.target.nodeName === 'svg' ||\n    event.target.nodeName === 'BUTTON'\n  ) {\n    procedureDeletingBook(event);\n  }\n  return;\n}\n\nconst refresh = document.querySelector('.shopping-refresh-btn');\nrefresh.addEventListener('click', refreshPage);\n\nfunction refreshPage() {\n  return renderLastSession();\n}\n\nfunction procedureDeletingBook(event) {\n  const idToDelete = event.target.dataset.book;\n  const index = storageOfBooksId.indexOf(idToDelete);\n  fetchArrayOfBookId();\n  storageOfBooksId.splice(index, 1);\n  localStorage.setItem('id', JSON.stringify(storageOfBooksId));\n  fetchPaginator();\n  if (storageOfBooksId.length === 0) {\n    return renderBooksFromBusket(page, paginator);\n  }\n  if (page > totalPages) {\n    return lastBtnAction();\n  }\n  renderBooksFromBusket(page, paginator);\n}\n"],"names":["parcelRequire","$014TN","$a3be1a30f1dc577d$var$list","document","querySelector","$a3be1a30f1dc577d$var$dummyMessage","$a3be1a30f1dc577d$var$controller","$a3be1a30f1dc577d$var$firstBtn","$a3be1a30f1dc577d$var$secondBtn","$a3be1a30f1dc577d$var$thirdBtn","$a3be1a30f1dc577d$var$mediaQuery","window","matchMedia","$a3be1a30f1dc577d$var$support","$a3be1a30f1dc577d$var$mediaQuerySupport","$a3be1a30f1dc577d$var$handleTabletChange","e","matches","classList","add","remove","style","position","addListener","$a3be1a30f1dc577d$var$storageOfBooksId","JSON","parse","localStorage","getItem","setItem","stringify","$a3be1a30f1dc577d$var$checkLocalStorageNotEmptyShopping","$a3be1a30f1dc577d$var$paginator","$a3be1a30f1dc577d$var$page","$a3be1a30f1dc577d$var$totalPages","$a3be1a30f1dc577d$var$showMessageIfEmpty","length","removeEventListener","$a3be1a30f1dc577d$var$deleteBook","$a3be1a30f1dc577d$var$paginate","$a3be1a30f1dc577d$var$fetchArrayOfBookId","$a3be1a30f1dc577d$var$fetchPaginator","Math","ceil","$a3be1a30f1dc577d$var$changePage","adduct","page","$a3be1a30f1dc577d$var$renderLastSession","$a3be1a30f1dc577d$var$renderPage","$a3be1a30f1dc577d$var$pageNumeration","page1","paginator1","$a3be1a30f1dc577d$var$renderBooksFromBusket","$a3be1a30f1dc577d$var$changeNumeration","weight","textContent","Number","parseInt","page3","event","target","dataset","$a3be1a30f1dc577d$var$startBtnAction","$a3be1a30f1dc577d$var$lastBtnAction","$a3be1a30f1dc577d$var$actionByNumeredBtns","$a3be1a30f1dc577d$var$moreBtnAction","$a3be1a30f1dc577d$var$nextBtnAction","$a3be1a30f1dc577d$var$removingCurrentBtnStyle","$a3be1a30f1dc577d$var$endBtnAction","$numeredBtn","contains","$a3be1a30f1dc577d$var$nextBtnActionWithFourBooksPerPage","paginator3","page4","paginator4","page2","paginator2","innerHTML","splice","forEach","id","async","book","title","author","book_image","list_name","description","buy_links","arrayOfShops","amazonUrl","appleUrl","bookShopUrl","url","trim","markup","insertAdjacentHTML","$a3be1a30f1dc577d$var$renderMarkup","fetchBookById","error","console","log","firstElementChild","addEventListener","$a3be1a30f1dc577d$var$renderCardFromStorage","once","nodeName","idToDelete","index","indexOf","$a3be1a30f1dc577d$var$procedureDeletingBook"],"version":3,"file":"shopping.68daffde.js.map"}