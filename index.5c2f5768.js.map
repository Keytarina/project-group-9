{"mappings":"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","sources":["src/js/index.js","src/js/best-sellers.js","src/js/categories.js","src/js/modal-window.js","src/js/btn-see-more.js","src/js/scroll-top.js"],"sourcesContent":["import './serviceApi';\nimport './theme.js';\nimport './header';\nimport './best-sellers';\nimport './categories';\nimport './support';\nimport './modal-window';\n\n// import './books';\n// import './authorization';\n// import './shopping-list';\nimport './btn-see-more';\nimport './scroll-top';\n","import { fetchTopBooks } from './serviceApi.js';\n//This function recieves parsed data from api and returns the markup of book-list\n//at the home page. Should be used after any of serviceApi functions in async code.\n\nexport const renderBestSellersList = data => {\n  const header =\n    '<h1 class=\"best-sellers-header\">Best Sellers <span class=\"best-sellers-accent\">Books</span></h1>';\n  const markup = header.concat(\n    [...data]\n      .map(list => {\n        const { list_name: listName, books } = list;\n        return `<div class=\"book-list-wrapper\"><h2 class=\"best-sellers-title\">${listName}</h2>\n     <ul class=\"best-sellers-list\">${books\n       .map(book => {\n         const { _id: id, author, book_image, title } = book;\n         return `<li class=\"best-sellers-list-item\">\n              <div class=\"best-sellers-thumb\"><img class=\"best-sellers-image\" src=${book_image} alt=${title} data-id-img=${id}/><div class=\"book-thumb-overlay\"><p class=\"book-overlay-text\">quick view</p></div></div>\n              <div class=\"book-description-thumb\"><h3 class=\"book-title\">${\n                title.length > 18 ? title.slice(0, 18) + '...' : title\n              }</h3>\n              <p class=\"book-description\">${author}</p></div>\n          </li>`;\n       })\n       .join(\n         ''\n       )}</ul><button class=\"see-more-btn\" type=\"button\">See More</button></div>`;\n      })\n      .join('')\n  );\n  return markup;\n};\n\n//The function should be used to render a list of books of specific genre (category)\nexport const renderBooksByCategory = data => {\n  let categoryTitle;\n  const markup = [...data]\n    .map(book => {\n      const { _id: id, author, book_image, title, list_name: listName } = book;\n      categoryTitle = listName;\n      return `<li class=\"book-category-list-item\">\n            <div class=\"best-sellers-thumb\"><img class=\"best-sellers-image\" src=${book_image} alt=${title} data-id-img=${id}/><div class=\"book-thumb-overlay\"><p class=\"book-overlay-text\">quick view</p></div></div>\n            <div class=\"book-description-thumb\"><h3 class=\"book-title\">${\n              title.length > 18 ? title.slice(0, 18) + '...' : title\n            }</h3>\n            <p class=\"book-description\">${author}</p></div>\n        </li>`;\n    })\n    .join('');\n\n    categoryTitle = categoryTitle.split(' ').map((e, i, a) => {\n    if (a.indexOf(e) + 1 === a.length) {\n      return `<h1 class=\"best-sellers-header\">${categoryTitle\n        .split(' ')\n        .slice(0, i)\n        .join(\n          ' '\n        )}<span class=\"best-sellers-accent\"> ${e}<span></h1><ul class=\"book-category-list\">${markup}</ul>`;\n    }\n  });\n  return categoryTitle.join('');\n};\n\nconst container = document.querySelector('#container-best');\nconst foo = async () => {\n  try {\n    const data = await fetchTopBooks();\n    const markup = renderBestSellersList(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const clearMarkup = () => (container.innerHTML = '');\ncontainer.innerHTML ? null : foo();\n","import {\n  renderBooksByCategory,\n  clearMarkup,\n  renderBestSellersList,\n} from './best-sellers.js';\nimport {\n  fetchBooksCategoryList,\n  fetchBooksByCategory,\n  fetchTopBooks,\n} from './serviceApi.js';\n\nconst category = document.querySelector('.categories-item');\nconst list = document.querySelector('.categories-item');\nlet li = document.getElementsByClassName('categories-list');\nconst container = document.querySelector('#container-best');\n\nlist.addEventListener('click', changeColor);\nfunction changeColor(e) {\n  if (li === document.getElementsByClassName('categories-list')) {\n    li = e.target;\n  }\n  li.classList.remove('active');\n  li = e.target;\n  li.classList.add('active');\n  return li;\n}\n\nfunction markupList() {\n  fetchBooksCategoryList()\n    .then(data => {\n      const markupCategoriesList = data\n        .map(({ list_name: listName }) => {\n          return `<li class=\"categories-list\" id=${listName}>${listName}</li>`;\n        })\n        .join('');\n      category.insertAdjacentHTML('beforeend', markupCategoriesList);\n    })\n    .catch(error => console.log(error));\n}\n\nmarkupList();\n// -Event listeners added for each list-item on categories list.\n\nlist.addEventListener('click', renderCategories);\nlist.addEventListener('click', renderTopBooks);\n\n// - One of two callback functions below are being invoked while clicking on such list-item, depending on it's text-content.\nasync function renderCategories(e) {\n  if (e.target.nodeName !== 'LI' && e.target.textContent === 'All categories') {\n    return;\n  }\n  try {\n    const data = await fetchBooksByCategory(e.target.textContent);\n    const markup = renderBooksByCategory(data);\n    clearMarkup();\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function renderTopBooks(e) {\n  if (e.target.textContent === 'All categories') {\n    try {\n      const data = await fetchTopBooks();\n      const markup = renderBestSellersList(data);\n      clearMarkup();\n      container.insertAdjacentHTML('beforeend', markup);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n","import { fetchBookById } from './serviceApi.js';\n\nconst modal = document.querySelector('.modal');\nconst modalCard = document.querySelector('.modal-card');\nconst containerBest = document.getElementById('container-best');\nconst congratsMessage = document.querySelector('.modal-window-text');\nconst closeModalBtn = document.querySelector('.cls-button');\nconst backdrop = document.querySelector('[data-modal-backdrop]');\n\nlet storageOfBooksIdModal = [];\ncheckLocalStorageNotEmpty();\nfunction closeModalByEscape(event) {\n  if (event.code === 'Escape') {\n    removeListeners();\n    return hiddenAll();\n  }\n}\nfunction closeModalWindow(event) {\n  if (event.currentTarget.nodeName === 'BUTTON') {\n    removeListeners();\n    return hiddenAll();\n  }\n}\n\nfunction removeListeners() {\n  closeModalBtn.removeEventListener('click', closeModalWindow, {\n    once: 'true',\n  });\n  modalCard.removeEventListener('click', addOrDeleteBook);\n  document.removeEventListener('keydown', closeModalByEscape, {\n    once: 'true',\n  });\n  backdrop.removeEventListener('click', closeBackdrop);\n}\n\nfunction closeBackdrop(event) {\n  if (event.target === backdrop) {\n    removeListeners();\n    return hiddenAll();\n  }\n}\n\nfunction hiddenAll() {\n  toggleModalHidden();\n  toggleBacdropHidden();\n  toggleScroll();\n}\nfunction toggleScroll() {\n  document.body.classList.toggle('stop-scrolling');\n}\n\nfunction toggleModalHidden() {\n  modal.classList.toggle('is-hidden');\n}\n\nfunction toggleBacdropHidden() {\n  backdrop.classList.toggle('is-hidden');\n}\n\nfunction checkBookStatus(id) {\n  checkLocalStorageNotEmpty();\n  storageOfBooksIdModal = JSON.parse(localStorage.getItem('id'));\n  if (storageOfBooksIdModal.includes(id)) {\n    congratsMessage.textContent = 'This book is already in your cart';\n    congratsMessage.classList.remove('is-hidden');\n  }\n}\n\n// -------------Фуекція що визиває модальне вікно-------------\ncontainerBest.addEventListener('click', imageClickHandler);\nfunction imageClickHandler(event) {\n  if (event.target.nodeName === 'IMG') {\n    const idToCallModal = event.target.dataset.idImg;\n    hiddenAll();\n    renderModalWindow(idToCallModal);\n    checkBookStatus(idToCallModal);\n\n    modalCard.addEventListener('click', addOrDeleteBook);\n    document.addEventListener('keydown', closeModalByEscape, { once: 'true' });\n    closeModalBtn.addEventListener('click', closeModalWindow, { once: 'true' });\n    backdrop.addEventListener('click', closeBackdrop);\n  }\n}\n// -------------------------------------\n\nasync function renderModalWindow(id) {\n  try {\n    const dataFromServer = await fetchBookById(id);\n    renderMarkupModalWindow(dataFromServer, id);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderMarkupModalWindow(book, id) {\n  let {\n    title,\n    author,\n    book_image = './image/shopping/dummy-book-tr.png',\n    description,\n    buy_links,\n  } = book;\n  const arrayOfShops = buy_links;\n  let amazonUrl = 'https://www.amazon.com';\n  let appleUrl = 'https://books.apple.com';\n  let bookShopUrl = 'https://bookshop.org';\n  amazonUrl = arrayOfShops[0].url;\n  appleUrl = arrayOfShops[1].url;\n  bookShopUrl = arrayOfShops[4].url;\n  if (description.trim().length === 0) {\n    description = 'Description is not available for that book';\n  }\n\n  let markup = '';\n  markup = createModalWindow({\n    id,\n    title,\n    author,\n    book_image,\n    description,\n    amazonUrl,\n    appleUrl,\n    bookShopUrl,\n  });\n  modalCard.innerHTML = '';\n\n  return modalCard.insertAdjacentHTML('afterbegin', markup);\n}\n\nfunction createModalWindow({\n  id,\n  title,\n  author,\n  book_image,\n  description,\n  amazonUrl,\n  appleUrl,\n  bookShopUrl,\n}) {\n  return `\n  <div class=\"modal-window\">\n    <div class=\"picture\">\n      <img class=\"card-img\" src=\"${book_image}\" alt=\"${description}\" />\n    </div>\n    <div class=\"info\">\n      <h1 class=\"titles\">${title}</h1>\n      <h2 class=\"authors\">${author}</h2>\n      <p class=\"descriptions\">${description}</p>\n      <ul class=\"icons\">\n        <li class=\"icon-link\">\n          <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${amazonUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Amazon link\"\n                    ><img\n                      width=\"62px\"\n                      class=\"shopping-card-link-icon shopping-card-link-amazon\"\n                      src=\"./shop-amazon-62x19px.a7ec3af8.png\"\n                      alt=\"Amazon\" loading=\"lazy\"\n                    />\n                  </a>\n                </li>\n                <li>\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${appleUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"Apple Books link\"\n                  >\n                    <img\n                      width=\"32px\"\n                      height=\"32px\"\n                      class=\"shopping-card-link-icon\"\n                      src=\"./shop-read-33x32px.a9f158e0.png\"\n                      alt=\"Apple Books\" loading=\"lazy\"\n                    />\n                  </a></li>\n                <li>\n                  <a\n                    class=\"shopping-card-shop-link\"\n                    href=\"${bookShopUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label=\"BookShop link\"\n                  >\n                    <img\n                      width=\"38px\"\n                      height=\"36px\"\n                      class=\"shopping-card-link-icon shopping-card-link-shopbook\"\n                      src=\"./shop-book-shop-38x36px.eb5fbc1e.png\"\n                      alt=\"BookShop\" loading=\"lazy\"\n                    />\n                  </a>\n        </li>\n      </ul>\n    </div>\n    <button\n    class=\"btn-action button pointer\"\n    data-modal-submit=\"add\" data-id=${id}\n    type=\"button\">add to shopping list</button>\n  </div>`;\n}\n\nfunction checkLocalStorageNotEmpty() {\n  if (!JSON.parse(localStorage.getItem('id'))) {\n    storageOfBooksIdModal = [];\n    return localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n  }\n}\n\nfunction changeBookStatus(id, event) {\n  checkLocalStorageNotEmpty();\n  if (storageOfBooksIdModal.includes(id)) {\n    return (event.target.dataset.modalSubmit = 'del');\n  }\n}\n\nfunction addOrDeleteBook(event) {\n  if (event.target.classList.contains('btn-action')) {\n    const idChoosenBook = event.target.dataset.id;\n    changeBookStatus(idChoosenBook, event);\n    if (event.target.dataset.modalSubmit === 'add') {\n      addingBookToBusket(idChoosenBook);\n      event.target.textContent = 'remove from the shopping list';\n      congratsMessage.textContent =\n        'Сongratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".';\n      congratsMessage.classList.remove('is-hidden');\n      event.target.dataset.modalSubmit = 'del';\n    } else {\n      deletingBookFromBusket(idChoosenBook);\n      event.target.textContent = 'add to shopping list';\n      congratsMessage.classList.add('is-hidden');\n      event.target.dataset.modalSubmit = 'add';\n    }\n  }\n}\n\nfunction addingBookToBusket(idChoosenBook) {\n  if (!JSON.parse(localStorage.getItem('id'))) {\n    storageOfBooksIdModal = [];\n    storageOfBooksIdModal.push(idChoosenBook);\n    return localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n  }\n  storageOfBooksIdModal = JSON.parse(localStorage.getItem('id'));\n\n  if (storageOfBooksIdModal.includes(idChoosenBook)) {\n    console.log('this book already in a busket');\n  } else {\n    storageOfBooksIdModal.push(idChoosenBook);\n    localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n  }\n  return;\n}\n\nfunction deletingBookFromBusket(idChoosenBook) {\n  checkLocalStorageNotEmpty();\n  storageOfBooksIdModal = JSON.parse(localStorage.getItem('id'));\n  if (storageOfBooksIdModal.includes(idChoosenBook)) {\n    const index = storageOfBooksIdModal.indexOf(idChoosenBook);\n    storageOfBooksIdModal.splice(index, 1);\n    localStorage.setItem('id', JSON.stringify(storageOfBooksIdModal));\n\n    return;\n  }\n}\n","import {\n  renderBooksByCategory,\n  renderBestSellersList,\n  clearMarkup,\n} from './best-sellers';\nimport { fetchBooksByCategory, fetchTopBooks } from './serviceApi.js';\n\n// fetchTopBooks();\n\nconst container = document.querySelector('#container-best');\nconst seeMoreBtn = document.querySelector('.see-more-btn');\n\nasync function fetchAndRenderBooks() {\n  try {\n    const data = await fetchTopBooks();\n    const markup = renderBestSellersList(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport async function loadBooksByCategory(category) {\n  try {\n    clearMarkup();\n    const data = await fetchBooksByCategory(category);\n    const markup = renderBooksByCategory(data);\n    container.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\ncontainer.addEventListener('click', event => {\n  if (event.target.nodeName === 'BUTTON') {\n    console.log(event.target.parentNode.firstChild.textContent);\n    const category = event.target.parentNode.firstChild.textContent;\n    clearMarkup();\n    loadBooksByCategory(category);\n  }\n});\n// seeMoreBtn.addEventListener('click', (event) => {\n//   if (event.target.classList.contains('.see-more-btn')) {\n//     const categoryElement = event.target.closest('.book-list-wrapper');\n//     console.log(categoryElement);\n//     const category = categoryElement.dataset.category;\n//     loadBooksByCategory(category);\n//   }\n// });\n","const scrollTop = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', onScrollToTop);\n\n//Функція ховання/показу кнопки при скроллі\nfunction onScrollToTop() {\n  window.onscroll = () => {\n    if (window.scrollY > 700) {\n      scrollTop.classList.remove('scroll-up_hide');\n    } else if (window.scrollY < 700) {\n      scrollTop.classList.add('scroll-up_hide');\n    }\n  };\n}\n\n//Функція повернення на початок сторінки по кліку\nscrollTop.addEventListener('click', onScrollToTopClick);\n\nfunction onScrollToTopClick() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n//коментар\n"],"names":["parcelRequire","$bpxeT","$28d0b1bdee355282$export$58aa6d5c499772c4","data","concat","$parcel$interopDefault","$8nrFW","map","list","listName","list_name","books","book","id","_id","author","book_image","title","length","slice","join","$28d0b1bdee355282$export$e3a458789c8a5044","categoryTitle","markup","split","e","i","a","indexOf","$28d0b1bdee355282$var$container","document","querySelector","$28d0b1bdee355282$var$foo","$2TvXO","mark","_callee","$aVBI1","fetchTopBooks","_ctx","sent","insertAdjacentHTML","console","log","t0","$28d0b1bdee355282$export$d1927cf3bc385580","innerHTML","$7035cf87bda54340$var$category","$7035cf87bda54340$var$list","$7035cf87bda54340$var$li","getElementsByClassName","$7035cf87bda54340$var$container","$7035cf87bda54340$var$_renderCategories","target","nodeName","textContent","fetchBooksByCategory","apply","this","arguments","$7035cf87bda54340$var$_renderTopBooks","addEventListener","classList","remove","add","fetchBooksCategoryList","then","markupCategoriesList","param","catch","error","$50be0534152dd275$var$modal","$50be0534152dd275$var$modalCard","$50be0534152dd275$var$containerBest","getElementById","$50be0534152dd275$var$congratsMessage","$50be0534152dd275$var$closeModalBtn","$50be0534152dd275$var$backdrop","$50be0534152dd275$var$storageOfBooksIdModal","$50be0534152dd275$var$closeModalByEscape","event","code","$50be0534152dd275$var$removeListeners","$50be0534152dd275$var$hiddenAll","$50be0534152dd275$var$closeModalWindow","currentTarget","removeEventListener","once","$50be0534152dd275$var$addOrDeleteBook","$50be0534152dd275$var$closeBackdrop","toggle","body","$50be0534152dd275$var$_renderModalWindow","fetchBookById","$50be0534152dd275$var$renderMarkupModalWindow","amazonUrl","appleUrl","bookShopUrl","_book_image","description","arrayOfShops","buy_links","url","trim","$50be0534152dd275$var$createModalWindow","$50be0534152dd275$var$checkLocalStorageNotEmpty","JSON","parse","localStorage","getItem","setItem","stringify","contains","idChoosenBook","dataset","includes","modalSubmit","$50be0534152dd275$var$changeBookStatus","push","$50be0534152dd275$var$addingBookToBusket","index","splice","$50be0534152dd275$var$deletingBookFromBusket","idToCallModal","idImg","$50be0534152dd275$var$renderModalWindow","$3560bf8ed79a9776$var$container","$3560bf8ed79a9776$var$_loadBooksByCategory","category","parentNode","firstChild","$3560bf8ed79a9776$export$1fbdfc89313519b4","$d71359ba2fb8e93c$var$scrollTop","window","onscroll","scrollY","scrollTo","top","behavior"],"version":3,"file":"index.5c2f5768.js.map"}